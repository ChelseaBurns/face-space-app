'use strict';

angular.module('face-space-app').controller('EditPersonCtrl', function ($scope, $routeParams, $location, Person) {
  var vm = this;
  vm.id = $routeParams.id;

  vm.onModalLoad = function () {
    $('#modal').modal('show');

    $('#modal').on('hidden.bs.modal', function (e) {
      $location.path('/people/' + vm.id);
      $scope.$apply();
    });
  };

  vm.saveAddress = function () {
    Person.update(vm.id, vm.person, function () {
      $('#modal').modal('hide');
    });
  };

  Person.getOne(vm.id, function (person) {
    vm.person = person;
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hc3NldHMvcGVvcGxlL2VkaXQuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE9BQU8sQ0FDTCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FFeEIsVUFBVSxDQUFDLGdCQUFnQixFQUFFLFVBQVUsTUFBTSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFO0FBQzlFLE1BQUksRUFBRSxHQUFHLElBQUksQ0FBQztBQUNkLElBQUUsQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQzs7QUFFeEIsSUFBRSxDQUFDLFdBQVcsR0FBRyxZQUFZO0FBQzNCLEtBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRTFCLEtBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsVUFBVSxDQUFDLEVBQUU7QUFDN0MsZUFBUyxDQUFDLElBQUksY0FBWSxFQUFFLENBQUMsRUFBRSxDQUFHLENBQUM7QUFDbkMsWUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ2pCLENBQUMsQ0FBQztHQUNKLENBQUM7O0FBRUYsSUFBRSxDQUFDLFdBQVcsR0FBRyxZQUFZO0FBQzNCLFVBQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFlBQVk7QUFDMUMsT0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUMzQixDQUFDLENBQUM7R0FDSixDQUFDOztBQUVGLFFBQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLE1BQU0sRUFBRTtBQUNyQyxNQUFFLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztHQUNwQixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoic3JjL2Fzc2V0cy9wZW9wbGUvZWRpdC5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuXHQubW9kdWxlKCdmYWNlLXNwYWNlLWFwcCcpXG5cblx0LmNvbnRyb2xsZXIoJ0VkaXRQZXJzb25DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sIFBlcnNvbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uaWQgPSAkcm91dGVQYXJhbXMuaWQ7XG5cbiAgICB2bS5vbk1vZGFsTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJyNtb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG5cbiAgICAgICQoJyNtb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAkbG9jYXRpb24ucGF0aChgL3Blb3BsZS8ke3ZtLmlkfWApO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdm0uc2F2ZUFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBQZXJzb24udXBkYXRlKHZtLmlkLCB2bS5wZXJzb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnI21vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBQZXJzb24uZ2V0T25lKHZtLmlkLCBmdW5jdGlvbiAocGVyc29uKSB7XG4gICAgICB2bS5wZXJzb24gPSBwZXJzb247XG4gICAgfSk7XG4gIH0pO1xuIl19
